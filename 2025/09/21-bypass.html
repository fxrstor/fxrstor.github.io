<!doctype html>
<html lang="en" data-theme="">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Using Soundcloud's API without an App - fxrstor</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,600;0,700;1,700&family=Inter:wght@300;400;600&family=Fira+Code&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/plugins/autoloader/highlightjs-autoloader.min.js"></script>

  <link rel="stylesheet" href="../../blogpost.css">
</head>
<body>
  <header class="bp-header" role="banner" aria-label="Post header">
    <div class="bp-header-inner">
      <div class="bp-meta-left">
        <img class="gh-avatar" src="https://avatars.githubusercontent.com/u/132809543" alt="GitHub avatar for fxrstor" width="72" height="72" />
        <div class="bp-title-wrap">
          <h1 class="bp-title">Using Soundcloud's API without an App</h1>
          <p class="bp-sub">by <strong>fxrstor</strong> · 4 minute read</p>
        </div>
      </div>

      <nav class="bp-nav" role="navigation" aria-label="Post navigation">
        <a id="go-back" class="nav-btn" href="/" title="Home" aria-label="Go to home (root)">
          <i class="fa fa-home" aria-hidden="true"></i>
          <span class="nav-text">Home</span>
        </a>

        <a class="nav-btn" href="https://github.com/fxrstor" target="_blank" rel="noopener noreferrer" title="Open GitHub profile" aria-label="Open GitHub profile">
          <i class="fa fa-github" aria-hidden="true"></i>
          <span class="nav-text">GitHub</span>
        </a>
      </nav>
    </div>
  </header>

  <main class="bp-main" role="main">
    <article class="post-article" itemscope itemtype="http://schema.org/Article">
      <header class="article-head">
        <h2 class="reading-meta">September 21, 2025 - 4 Minute Read</h2>
        <hr>
      </header>

      <section class="article-body" itemprop="articleBody">
        <h3>Introduction</h3>
        <p>I primarily use Soundcloud for almost every song I listen to. However, there's no rich presence for Discord (like there is for Spotify). Unfortunate, but I can live without it. However, I'd like to make it, just as a test. The problem with this, is just how <b>bad</b> Soundcloud Support is at giving out their API. You used to just fill out a form to do it but they closed it down a few months ago.</p>

        <p>Now, you have to use their terrible "support bot" that claims to create a ticket but just never does. So how do we get around to actually using their API? Well it turns out there's a solution to it. </p>

        <h3>DevTools</h3>
        <p>Soundcloud exposes its <a href="https://developers.soundcloud.com/docs/api/explorer/open-api" target="_blank" rel="noopener noreferrer">API here</a>. The problem is using the API requires both an OAuth2 token and a Client ID. If we can find those, we can use their API. I realized that the browser session must be able to know these, if we're able to do stuff that the API exposes. Sure enough, looking at a request, we can see the following:</p>

        <div class="container">
<pre><code class="language-bash">GET https://api-v2.soundcloud.com/me/play-history/tracks?client_id=[client_id]
Authorization: OAuth [token]</code></pre>
        </div>

        <p>Bingo! It had everything to copy and do manual requests. My first thought was merely copy this as a cURL command and fire it from the terminal. And indeed, the first request works just fine, giving us a nice HTTP 200 OK. After some attempts, a very weird thing starts occurring. Every single request is now failing with HTTP 403 Forbidden, although the parameters have not changed. What was going on?</p>

        <h3>DataDome: Bot <s>protection</s></h3>
        <p>A little researching made me realize that a particular header was changing between requests: <code>X-Datadome-ClientID</code>. This is a part of a bot protection service called DataDome, allegedly designed to stop automated scraping or unauthorized access. It was obvious that SoundCloud is using this for an extra layer of protection above OAuth and the Client ID. So apparently, just copying your session credentials would not be good enough; you need to track these ever-changing tokens, too. </p>

        <div class="container">
<pre><code class="language-plaintext">xkVkxGvp5lkBiL0A_cuN6xmUlb_uXDhYQOA4PFrDc3f9sZKL7zvOVDnKDwKz2AipGh6HSCx65CnlJBpyXqjgTmUSkVV3Qi8Xueo8gnJTe_uc3~9F0onjLyw~rYJq63Cv
t86praf1JKTfbEmyKQ~Cx2~m1TzhwNjfLaahESKCK~mMHgu11VG~9aIu8s8INH_Fxuv~UguZncpZV47hHZ2dff99eXQrHOc0ivf5wfHihj5si4gpejjqIxjEZXhFQEMT
twFJ_~4ZCOeNfay_yUVMB5ED2RUUGKT~6onBslCMxWaPc2uV97WvV_ywK0_778z_~28zSWlBgkmSsCknLfc3pJeAaRHP0jUh0_A0ZU4ItdoqPeIG_T1p2AUBHihSFiMM</code></pre>
        </div>
        <p>It is apparent that it wasn't truly random - it's produced in a way that follows certain rules, meaning in theory, we could replicate it.</p>

        <h3>The Bypass</h3>
        <p>Now it's time to code something. The aim is to make a function that generates these client IDs. It doesn't have to be perfect, just good enough to make though Soundcloud's basic checks. Here's the code that generates the IDs:</p>
        <div class="container">
<pre><code class="language-python">def regenerate_clientid() -> str:
    target_length = 128
    alphabet = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
    seperator_count = randint(6,9)
    every = int(target_length/seperator_count)
    seperators = ["~", "_", "~_"]
    i = 0
    string = ""
    while i < 129:
        if i % every == 0 and i != 0:
            chosen = randint(0, len(seperators)-1)
            string += seperators[chosen]
            i += len(seperators[chosen])
        string += alphabet[randint(0, len(alphabet)-1)]
        i += 1</code></pre>
        </div>
        <p>Run this repeatedly, and you get values that very much resemble the structure of the DataDome IDs you see in the browser. Some twerking can rotate them between every request, making it almost impossible for the API to distinguish your request from real browser traffic.</p>

        <h3>Breaking Down the Code</h3>
        <p>So what exactly is happening inside this function? At first, one would think it's a wall of random characters building some string; however, there is proper pattern for building the client ID. Let's follow along.</p>

        <ul>
        <li><b>target_length = 128</b> - The DataDome IDs observed till now are all 128 characters long so it is safe to assume the length as 128 (I guess?).</li>
        
        <li><b>alphabet</b> - This is the pool of characters the generator can pull from: lowercase and uppercase letters along with digits. Basically, it mirrors what you would expect in a typical random token.</li>
        
        <li><b>seperator_count = randint(6,9)</b> - The original IDs aren't just continuous gibberish. They have occasional breaks using <code>~</code> or <code>_</code>. This line decides how many of those breaks to insert.</li>
        
        <li><b>every = int(target_length / seperator_count)</b> - To lay the separators evenly, divide the total length by the number of separators. That way they are laid out evenly through the string instead of clumping together.</li>
        
        <li><b>seperators = ["~", "_", "~_"]</b> - Symbols that DataDome uses. Notice the occasional <code>~_</code> combo, which is why we allow multi-character separators.</li>
        
        <li><b>The while loop</b> - This loop keeps adding characters until the length passes 128. On every <code>"every"</code>th character, it inserts one of the separators, chosen randomly. In all other cases, it just appends a random letter or number from the alphabet.</li>
        </ul>

        <p>By the end, you get a string that looks convincingly like one of the official <code>X-Datadome-ClientID</code> values. Not an exact replica, but close enough to pass basic structural checks.</p>

        <p>In other words, the client IDs aren't pure randomness. They have a defined pattern which is very self-explanatory. Once you notice this, it's not hard to reverse-engineer something that mimics the same shape.</p>

        <h3>Conclusion</h3>
        <p>All credits to my friend - <a href="https://x.com/ingoestheheroin">@ingoestheheroin</a> for discovering the pattern. Thanks for reading! This was a short blog, slightly rushed but I hope everything was understandable. I'll go back to low level stuff later, but I got slightly sidetracked with this project.</p>
      </section>
    </article>
  </main>

  <footer class="bp-footer" role="contentinfo" aria-label="Footer">
    <div class="bp-footer-inner">
      <small>© <span id="year"></span> fxrstor • <a href="https://github.com/fxrstor" target="_blank" rel="noopener noreferrer">GitHub</a></small>
    </div>
  </footer>

  <script src="../../bg-scroll.js" defer></script>
  <script src="../../blogpost.js" defer></script>
</body>
</html>
